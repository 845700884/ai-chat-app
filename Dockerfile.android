# 使用官方的Buildozer Docker镜像
FROM kivy/buildozer:latest

# 设置工作目录
WORKDIR /app

# 复制项目文件
COPY . /app/

# 设置环境变量
ENV ANDROID_HOME=/opt/android-sdk
ENV PATH=$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools

# 构建APK
RUN buildozer android debug

# 输出APK文件
CMD ["cp", "bin/*.apk", "/output/"]
